
<!DOCTYPE HTML>

<html>

<head>
	<meta charset="utf-8">
	<title>Ewan Reton</title>
	<meta name="author" content="Ewan Reton">

	
	<meta name="description" content="php PHP设计模式(四)-数据库对象映射模式 1、模式定义 在了解数据映射模式之前，先了解下数据映射，它是在持久化数据存储层（通常是关系型数据库）和驻于内存的数据表现层之间进行双向数据传输的数据访问层。 数据映射模式的目的是让持久化数据存储层、驻于内存的数据表现层、 &hellip;">
	

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

	<link href="/atom.xml" rel="alternate" title="Ewan Reton" type="application/atom+xml">
	
	<link rel="canonical" href="http://ewanreton.github.io/">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<link href="/stylesheets/font-awesome.min.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<link href='http://fonts.googleapis.com/css?family=Nunito:400,300,700' rel='stylesheet' type='text/css'>	<link type="text/css" rel="stylesheet" href='/prettify/prettify.css' >
	<script src="//libs.baidu.com/jquery/1.9.1/jquery.min.js"></script>
	<script type="text/javascript" src="/prettify/prettify.js"></script>
	<!--<script src="https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js"></script>-->
	<script>
  function addBlankTargetForLinks () {
    $('a[href^="http"]').each(function(){
      $(this).attr('target', '_blank');
    });
  }
  $(document).bind('DOMNodeInserted', function(event) {
    addBlankTargetForLinks();
  });
</script>
  

</head>


<body onload="prettyPrint()">
	<div class="container">
		<div class="left-col">
			<div class="intrude-less">
			<header id="header" class="inner"><div class="profilepic">
	
	<script src="/javascripts/md5.js"></script>
	<script type="text/javascript" src="/prettify/prettify.js"></script>
	<script type="text/javascript">
		$(function(){
			$('.profilepic').append("<img src='http://www.gravatar.com/avatar/" + MD5("liukedi001@gmail.com") + "?s=160' alt='Profile Picture' style='width: 160px;' />");
			
		});
	</script>
	
</div>

<div>
	<h1><a href="/">Ewan Reton</a></h1>
	
		<h2 style="color:#666">Never be touched by yourself</h2>
	
</div>
<nav id="main-nav"><ul class="main">
    <li><a href="/">Blog</a></li>
    <li><a href="/blog/archives">Archives</a></li>
</ul>
</nav>
<nav id="main-nav"><section>
  <ul id="categories">
    <li class='category'><a href='/blog/categories/git/'>git (3)</a></li>
<li class='category'><a href='/blog/categories/javascript/'>javascript (2)</a></li>
<li class='category'><a href='/blog/categories/linux/'>linux (6)</a></li>
<li class='category'><a href='/blog/categories/mysql/'>mysql (4)</a></li>
<li class='category'><a href='/blog/categories/nginx/'>nginx (5)</a></li>
<li class='category'><a href='/blog/categories/octopress/'>octopress (3)</a></li>
<li class='category'><a href='/blog/categories/php/'>php (18)</a></li>
<li class='category'><a href='/blog/categories/weixin/'>weixin (1)</a></li>

  </ul>
</section></nav> 
<nav id="sub-nav">
	<div class="social">
		
			<a class="email" href="mailto:liukedi001@gmail.com" title="Email">Email</a>
		
		
		
			<a class="google" href="https://plus.google.com/116687730759120454062" rel="author" title="Google+">Google+</a>
		
		
		
			<a class="github" href="https://github.com/EwanReton" title="GitHub">GitHub</a>
		
		
		
		
		
		
		
		
		
		
    	
    	
			<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
	</div>
</nav>
</header>				
			</div>
		</div>	
		<div class="mid-col">
			
				
			
			<div class="mid-col-container">
				<div id="content" class="inner">
<div itemscope itemtype="http://schema.org/Blog">


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2016-06-06T11:24:26+08:00" data-updated="true" itemprop="datePublished"></time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/php/'>php</a>


</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2016/06/06/php-design-4/" itemprop="url">PHP设计模式(四)-数据库对象映射模式</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<h1>1、模式定义</h1>

<p>在了解数据映射模式之前，先了解下数据映射，它是在持久化数据存储层（通常是关系型数据库）和驻于内存的数据表现层之间进行双向数据传输的数据访问层。</p>

<p>数据映射模式的目的是让持久化数据存储层、驻于内存的数据表现层、以及数据映射本身三者相互独立、互不依赖。这个数据访问层由一个或多个映射器（或者数据访问对象）组成，用于实现数据传输。通用的数据访问层可以处理不同的实体类型，而专用的则处理一个或几个。</p>

<p>数据映射模式的核心在于它的数据模型遵循单一职责原则（Single Responsibility Principle）, 这也是和 Active Record 模式的不同之处。最典型的数据映射模式例子就是数据库 ORM 模型 （Object Relational Mapper）。</p>

<p><strong>ha_cl表</strong>
<img src="http://www.poluoluo.com/jzxy/UploadFiles_333/201603/2016030519294690.png?20162310358" alt="" /></p>

<figure class='code'><figcaption><span>Hacl.php</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="o">&lt;?</span><span class="nx">php</span>
</span><span class='line'><span class="k">namespace</span> <span class="nx">Baobab</span><span class="p">;</span>
</span><span class='line'><span class="k">class</span> <span class="nc">Hacl</span><span class="p">{</span>
</span><span class='line'><span class="k">public</span> <span class="nv">$id</span><span class="p">;</span>
</span><span class='line'><span class="k">public</span> <span class="nv">$haclname</span><span class="p">;</span>
</span><span class='line'><span class="k">public</span> <span class="nv">$haclcode</span><span class="p">;</span>
</span><span class='line'><span class="k">public</span> <span class="nv">$hacls</span><span class="p">;</span>
</span><span class='line'><span class="k">protected</span> <span class="nv">$db</span><span class="p">;</span>
</span><span class='line'><span class="k">function</span> <span class="nf">__construct</span><span class="p">(</span><span class="nv">$id</span><span class="p">){</span>
</span><span class='line'><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\Baobab\Database\Mysqli</span><span class="p">();</span>
</span><span class='line'><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">connect</span><span class="p">(</span><span class="s1">&#39;127.0.0.1&#39;</span><span class="p">,</span> <span class="s1">&#39;root&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;test&#39;</span><span class="p">);</span>
</span><span class='line'><span class="nv">$res</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">query</span><span class="p">(</span><span class="s2">&quot;select * from ha_cl where id = </span><span class="si">{</span><span class="nv">$id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">);</span>
</span><span class='line'><span class="nv">$data</span> <span class="o">=</span> <span class="nv">$res</span><span class="o">-&gt;</span><span class="na">fetch_assoc</span><span class="p">();</span>
</span><span class='line'><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">id</span> <span class="o">=</span> <span class="nv">$data</span><span class="p">[</span><span class="s1">&#39;ID&#39;</span><span class="p">];</span>
</span><span class='line'><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">haclname</span> <span class="o">=</span> <span class="nv">$data</span><span class="p">[</span><span class="s1">&#39;ha_cl_name&#39;</span><span class="p">];</span>
</span><span class='line'><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">haclcode</span> <span class="o">=</span> <span class="nv">$data</span><span class="p">[</span><span class="s1">&#39;ha_cl_code&#39;</span><span class="p">];</span>
</span><span class='line'><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">hacls</span> <span class="o">=</span> <span class="nv">$data</span><span class="p">[</span><span class="s1">&#39;hacls&#39;</span><span class="p">];</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="k">function</span> <span class="nf">__destruct</span><span class="p">(){</span>
</span><span class='line'><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">query</span><span class="p">(</span><span class="s2">&quot;update ha_cl set</span>
</span><span class='line'><span class="s2">ha_cl_code = &#39;</span><span class="si">{</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">haclcode</span><span class="si">}</span><span class="s2">&#39;,</span>
</span><span class='line'><span class="s2">ha_cl_name = &#39;</span><span class="si">{</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">haclname</span><span class="si">}</span><span class="s2">&#39;,</span>
</span><span class='line'><span class="s2">hacls = &#39;</span><span class="si">{</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">hacls</span><span class="si">}</span><span class="s2">&#39;</span>
</span><span class='line'><span class="s2">where ID = </span><span class="si">{</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">id</span><span class="si">}</span><span class="s2"></span>
</span><span class='line'><span class="s2">limit 1&quot;</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span>Factory.php</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="c1">//工厂模式</span>
</span><span class='line'><span class="o">&lt;?</span><span class="nx">php</span>
</span><span class='line'><span class="k">namespace</span> <span class="nx">Baobab</span><span class="p">;</span>
</span><span class='line'><span class="k">class</span> <span class="nc">Factory</span><span class="p">{</span>
</span><span class='line'><span class="k">static</span> <span class="k">function</span> <span class="nf">getHacl</span><span class="p">(</span><span class="nv">$id</span><span class="p">){</span>
</span><span class='line'><span class="nv">$key</span> <span class="o">=</span> <span class="s1">&#39;user_&#39;</span><span class="o">.</span><span class="nv">$id</span><span class="p">;</span>
</span><span class='line'><span class="nv">$user</span> <span class="o">=</span> <span class="nx">\Baobab\Register</span><span class="o">::</span><span class="na">get</span><span class="p">(</span><span class="nv">$key</span><span class="p">);</span><span class="c1">//表中id不同表示的是不同的对象</span>
</span><span class='line'><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nv">$user</span><span class="p">){</span>
</span><span class='line'><span class="nv">$user</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\Baobab\Hacl</span><span class="p">(</span><span class="nv">$id</span><span class="p">);</span>
</span><span class='line'><span class="nx">\Baobab\Register</span><span class="o">::</span><span class="na">set</span><span class="p">(</span><span class="nv">$key</span><span class="p">,</span> <span class="nv">$user</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="k">return</span> <span class="nv">$user</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span>Register.php</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="o">&lt;?</span><span class="nx">php</span>
</span><span class='line'><span class="k">namespace</span> <span class="nx">Baobab</span><span class="p">;</span>
</span><span class='line'><span class="k">class</span> <span class="nc">Register</span><span class="p">{</span>
</span><span class='line'><span class="k">protected</span> <span class="k">static</span> <span class="nv">$objects</span><span class="p">;</span>
</span><span class='line'><span class="k">static</span> <span class="k">function</span> <span class="nf">set</span><span class="p">(</span><span class="nv">$alias</span><span class="p">,</span> <span class="nv">$object</span><span class="p">){</span>
</span><span class='line'><span class="nx">self</span><span class="o">::</span><span class="nv">$objects</span><span class="p">[</span><span class="nv">$alias</span><span class="p">]</span> <span class="o">=</span> <span class="nv">$object</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="k">static</span> <span class="k">function</span> <span class="nf">_unset</span><span class="p">(</span><span class="nv">$alias</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'><span class="nb">unset</span><span class="p">(</span><span class="nx">self</span><span class="o">::</span><span class="nv">$objects</span><span class="p">[</span><span class="nv">$alias</span><span class="p">]);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="k">static</span> <span class="k">function</span> <span class="nf">get</span><span class="p">(</span><span class="nv">$name</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'><span class="k">return</span> <span class="nx">self</span><span class="o">::</span><span class="nv">$objects</span><span class="p">[</span><span class="nv">$name</span><span class="p">];</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span>index.php</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="k">class</span> <span class="nc">Page</span><span class="p">{</span>
</span><span class='line'><span class="k">function</span> <span class="nf">index</span><span class="p">(){</span>
</span><span class='line'><span class="nv">$hacl</span> <span class="o">=</span> <span class="nx">Baobab\Factory</span><span class="o">::</span><span class="na">getHacl</span><span class="p">(</span><span class="mi">13</span><span class="p">);</span>
</span><span class='line'><span class="nv">$hacl</span><span class="o">-&gt;</span><span class="na">haclname</span> <span class="o">=</span> <span class="s1">&#39;测试名称&#39;</span><span class="p">;</span>
</span><span class='line'><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">test</span><span class="p">();</span>
</span><span class='line'><span class="k">echo</span> <span class="s1">&#39;ok&#39;</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="k">function</span> <span class="nf">test</span><span class="p">(){</span>
</span><span class='line'><span class="nv">$hacl</span> <span class="o">=</span> <span class="nx">Baobab\Factory</span><span class="o">::</span><span class="na">getHacl</span><span class="p">(</span><span class="mi">13</span><span class="p">);</span>
</span><span class='line'><span class="nv">$hacl</span><span class="o">-&gt;</span><span class="na">hacls</span> <span class="o">=</span> <span class="s1">&#39;测试内容&#39;</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="nv">$page</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Page</span><span class="p">();</span>
</span><span class='line'><span class="nv">$page</span><span class="o">-&gt;</span><span class="na">index</span><span class="p">();</span>
</span></code></pre></td></tr></table></div></figure>


		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2016-06-06T10:32:22+08:00" data-updated="true" itemprop="datePublished"></time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/php/'>php</a>


</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2016/06/06/php-design-3/" itemprop="url">PHP设计模式(三)-策略模式</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<blockquote><p>在之前学习了PHP设计模式中的工厂模式，单例模式，注册树模式，适配器模式。今天来学习一下策略模式。</p></blockquote>

<h1>一、策略模式概念</h1>

<p>策略模式针对一组算法，将每一个算法封装到具有共同接口的独立的类中,此模式让算法的变化独立于使用算法的客户。从而让程序结构更灵活，具有更好的扩展性和维护性。</p>

<p>策略模式:定义了算法族,分别封装起来，让它们之间可以互相替换，此模式让算法的变化独立于使用算法的客户。</p>

<p>封装:把行为用接口封装起来，我们可以把那些经常变化的部分，从当前的类中单独取出来，用接口进行单独的封装。
互相替换:我们封装好了接口，通过指定不同的接口实现类进行算法的变化。</p>

<h1>二、策略模式结构图</h1>

<p><img src="http://www.phpddt.com/usr/uploads/2014/01/2390999757.jpg" alt="" /></p>

<h1>三、策略模式角色说明</h1>

<p> 抽象策略(Strategy）角色：定义所有支持的算法的公共接口。通常是以一个接口或抽象来实现。Context使用这个接口来调用其ConcreteStrategy定义的算法。</p>

<p>具体策略(ConcreteStrategy)角色：以Strategy接口实现某具体算法</p>

<p>环境(Context)角色：持有一个Strategy类的引用，用一个ConcreteStrategy对象来配置</p>

<h1>四、实例一</h1>

<p>比如说购物车系统，在给商品计算总价的时候，普通会员肯定是商品单价乘以数量，但是对中级会员提供8者折扣，对高级会员提供7折折扣，这种场景就可以使用策略模式实现：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="sd">/**</span>
</span><span class='line'><span class="sd"> * 策略模式实例</span>
</span><span class='line'><span class="sd"> * </span>
</span><span class='line'><span class="sd"> */</span>
</span><span class='line'><span class="c1">//抽象策略角色《为接口或者抽象类，给具体策略类继承》</span>
</span><span class='line'><span class="k">interface</span> <span class="nx">Strategy</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="k">public</span> <span class="k">function</span> <span class="nf">computePrice</span><span class="p">(</span><span class="nv">$price</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="c1">//具体策略角色-普通会员策略类</span>
</span><span class='line'><span class="k">class</span> <span class="nc">GenernalMember</span> <span class="k">implements</span> <span class="nx">Strategy</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="k">public</span> <span class="k">function</span> <span class="nf">computePrice</span><span class="p">(</span><span class="nv">$price</span><span class="p">)</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="k">return</span> <span class="nv">$price</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="c1">//具体策略角色-中级会员策略类</span>
</span><span class='line'><span class="k">class</span> <span class="nc">MiddleMember</span> <span class="k">implements</span> <span class="nx">Strategy</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="k">public</span> <span class="k">function</span> <span class="nf">computePrice</span><span class="p">(</span><span class="nv">$price</span><span class="p">)</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="k">return</span> <span class="nv">$price</span> <span class="o">*</span> <span class="mf">0.8</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="c1">//具体策略角色-高级会员策略类</span>
</span><span class='line'><span class="k">class</span> <span class="nc">HignMember</span> <span class="k">implements</span> <span class="nx">Strategy</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="k">public</span> <span class="k">function</span> <span class="nf">computePrice</span><span class="p">(</span><span class="nv">$price</span><span class="p">)</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="k">return</span> <span class="nv">$price</span> <span class="o">*</span> <span class="mf">0.7</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="c1">//环境角色实现类</span>
</span><span class='line'><span class="k">class</span> <span class="nc">Price</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="c1">//具体策略对象</span>
</span><span class='line'>    <span class="k">private</span> <span class="nv">$strategyInstance</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1">//构造函数</span>
</span><span class='line'>    <span class="k">public</span> <span class="k">function</span> <span class="nf">__construct</span><span class="p">(</span><span class="nv">$instance</span><span class="p">)</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">strategyInstance</span> <span class="o">=</span> <span class="nv">$instance</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">public</span> <span class="k">function</span> <span class="nf">compute</span><span class="p">(</span><span class="nv">$price</span><span class="p">)</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">strategyInstance</span><span class="o">-&gt;</span><span class="na">computePrice</span><span class="p">(</span><span class="nv">$price</span><span class="p">);</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="c1">//客户端使用</span>
</span><span class='line'><span class="nv">$p</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Price</span><span class="p">(</span><span class="k">new</span> <span class="nx">HignMember</span><span class="p">());</span>
</span><span class='line'>
</span><span class='line'><span class="nv">$totalPrice</span> <span class="o">=</span> <span class="nv">$p</span><span class="o">-&gt;</span><span class="na">compute</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'><span class="k">echo</span> <span class="nv">$totalPrice</span><span class="p">;</span> <span class="c1">//70</span>
</span></code></pre></td></tr></table></div></figure>


<h1>实例二</h1>

<p><img src="http://pic002.cnblogs.com/images/2012/152332/2012022715404617.png" alt="" /></p>

<p>我来解释下这个思维导图的过程：</p>

<p>1.Joe做了一套相当成功的模拟鸭子的游戏。设计了一个超类Duck,然后让各种鸭子继承这个类。</p>

<p>2.后来客户提出要让鸭子有飞的能力。所以Joe就在超类中加了个fly()方法，这样下面的子类都有飞行的行为。</p>

<p> 问题来了：</p>

<ul>
<li>原来Duck的子类中竟然有橡皮鸭，橡皮鸭是不会飞的。——Joe用重载的方式，把橡皮鸭的fly()方法设置为空.</li>
<li>覆盖fly()，我们看到了橡皮鸭的fly()里，没有任何代码，如果以后我们再添加别的不会飞的鸭子，那我么还要这么处理吗?——那么代码重复了!</li>
</ul>


<p>3.上面2的方式我们知道是有问题的，所以Joe想到把Duck做成接口，这样每个子类必须实现Duck里的方法。这样就保证每个鸭子都能根据自己的需要添加行为。</p>

<p>问题来了：</p>

<ul>
<li>产品经常处于更新中，规格也在不断的变化。导致每当有新鸭子的时候，Joe就要被迫检查一遍子类是否覆盖了fly()方法。——当你修改某个行为的时候，你必须得往下追踪并在每一个定义此行为的类中修改它。</li>
</ul>


<p>4.综合以上问题，Joe想到了把那些变化的部分从不变化的位置中抽出来。比如，我们对fly()行为，做了单独的接口FlyBehavior。如果鸭子想要飞行功能的时候，我们就让鸭子实现FlyBehavior.</p>

<p>5.深造:我们想让鸭子有不同的飞行功能，让它在运行时候做不同的飞行动作。让鸭子类实现接口，只能让鸭子有一种行为。</p>

<p>所以Joe，想到用组合的防止，当鸭子需要其他飞行功能要求的时候，我们可以用setBehavior()方式，指定性的飞行方式。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="k">interface</span> <span class="nx">FlyBehavior</span><span class="p">{</span>
</span><span class='line'>    <span class="k">public</span> <span class="k">function</span> <span class="nf">fly</span><span class="p">();</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="k">class</span> <span class="nc">FlyWithWings</span> <span class="k">implements</span> <span class="nx">FlyBehavior</span><span class="p">{</span>
</span><span class='line'>    <span class="k">public</span> <span class="k">function</span> <span class="nf">fly</span><span class="p">(){</span>
</span><span class='line'>        <span class="k">echo</span> <span class="s2">&quot;Fly With Wings </span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="k">class</span> <span class="nc">FlyWithNo</span> <span class="k">implements</span> <span class="nx">FlyBehavior</span><span class="p">{</span>
</span><span class='line'>    <span class="k">public</span> <span class="k">function</span> <span class="nf">fly</span><span class="p">(){</span>
</span><span class='line'>        <span class="k">echo</span> <span class="s2">&quot;Fly With No Wings </span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="k">class</span> <span class="nc">Duck</span><span class="p">{</span>
</span><span class='line'>    <span class="k">private</span> <span class="nv">$_flyBehavior</span><span class="p">;</span>
</span><span class='line'>    <span class="k">public</span> <span class="k">function</span> <span class="nf">performFly</span><span class="p">(){</span>
</span><span class='line'>        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">_flyBehavior</span><span class="o">-&gt;</span><span class="na">fly</span><span class="p">();</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">public</span> <span class="k">function</span> <span class="nf">setFlyBehavior</span><span class="p">(</span><span class="nx">FlyBehavior</span> <span class="nv">$behavior</span><span class="p">){</span>
</span><span class='line'>        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">_flyBehavior</span> <span class="o">=</span> <span class="nv">$behavior</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="k">class</span> <span class="nc">RubberDuck</span> <span class="k">extends</span> <span class="nx">Duck</span><span class="p">{</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="c1">// Test Case</span>
</span><span class='line'><span class="nv">$duck</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">RubberDuck</span><span class="p">();</span>
</span><span class='line'>
</span><span class='line'><span class="cm">/*  想让鸭子用翅膀飞行 */</span>
</span><span class='line'><span class="nv">$duck</span><span class="o">-&gt;</span><span class="na">setFlyBehavior</span><span class="p">(</span><span class="k">new</span> <span class="nx">FlyWithWings</span><span class="p">());</span>
</span><span class='line'><span class="nv">$duck</span><span class="o">-&gt;</span><span class="na">performFly</span><span class="p">();</span>
</span><span class='line'>
</span><span class='line'><span class="cm">/*  想让鸭子不用翅膀飞行 */</span>
</span><span class='line'><span class="nv">$duck</span><span class="o">-&gt;</span><span class="na">setFlyBehavior</span><span class="p">(</span><span class="k">new</span> <span class="nx">FlyWithNo</span><span class="p">());</span>
</span><span class='line'><span class="nv">$duck</span><span class="o">-&gt;</span><span class="na">performFly</span><span class="p">();</span>
</span></code></pre></td></tr></table></div></figure>


<h1>五、策略模式的控制和反转</h1>

<p>使用策略模式可以实现Ioc，依赖倒置和控制反转</p>

<p>在原本的类中，存在一个A类中调用B类，则A类是依赖于B类的。</p>

<p>通过几个接口的设置和策略的解耦，就把依赖进行了反转，也就是我们在写A类的时候不需要去实现B类。</p>

<p>只有在最后执行的时候才进行绑定。</p>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2016-06-04T12:21:09+08:00" data-updated="true" itemprop="datePublished"></time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/php/'>php</a>


</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2016/06/04/php-design-2/" itemprop="url">PHP设计模式(二)-适配器模式</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<h1>适配器模式</h1>

<ol>
<li>适配器模式，可将一个类的接口转换成客户希望的另外一个接口，使得原本不兼容的接口能够一起工作。通俗的理解就是将不同接口适配成统一的API接口。</li>
</ol>



		
		<a href="/blog/2016/06/04/php-design-2/" class="more-link">阅读全文&rarr;</a>
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2016-06-04T11:39:34+08:00" data-updated="true" itemprop="datePublished"></time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/linux/'>linux</a>


</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2016/06/04/ubuntu-apache2-rewrite/" itemprop="url">Ubuntu下Apache2开启URL重写模式</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<blockquote><p>今天同事，发的项目过来在我的Ubuntu上打不开，发现是URL重写模式没启动，然后用如下方法解决。</p></blockquote>

<h1>开启Apache的Rewrite功能</h1>

<p>在终端中执行：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sudo a2enmode rewrite</span></code></pre></td></tr></table></div></figure>


<p>指令后，即启用了 Mod_rewrite 模块</p>

<p>另外，也可以通过将</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>/etc/apache2/mods-available/rewrite.load</span></code></pre></td></tr></table></div></figure>


<p> 连接到</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'> /etc/apache2/mods-enabled/rewrite.load</span></code></pre></td></tr></table></div></figure>


<p> 来打开 Mod_rewrite 模块。用指令操作就是：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sudo ln -s /etc/apache2/mods-available/rewrite.load /etc/apache2/mods-enabled/rewrite.load</span></code></pre></td></tr></table></div></figure>


<p>然后发现并无法正常rewrite网址</p>

<p>这里，还有一点需要注意的地方：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sudo vim /etc/apache2/sites-enabled/000-default</span></code></pre></td></tr></table></div></figure>


<p>将其中的</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>AllowOverride None</span></code></pre></td></tr></table></div></figure>


<p></p>

<p>修改为</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>AllowOverride All</span></code></pre></td></tr></table></div></figure>


<p>上面的 /etc/apache2/sites-enabled/000-default 实则为 /etc/apache2/sites-available/default 的连接。而 AllowwOverride None 则会完全忽略 .htaccess 文件，自然其中所定义的 rewrite 规则也就不能生效了。</p>

<p>最后，重新启动Apache2 服务即可</p>

<p>service apache2 restart</p>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2016-06-02T21:29:24+08:00" data-updated="true" itemprop="datePublished"></time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/git/'>git</a>


</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2016/06/02/git-branch/" itemprop="url">GIT分支</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<blockquote><p>今天在学习git的远程操作的时候发现了一篇关于分支(branch)的文章，讲得非常好。让我对分支的理解更深了一步.</p></blockquote>

<p>先贴上原地址<a href="http://www.tuicool.com/articles/U73q63V">http://www.tuicool.com/articles/U73q63V</a></p>

<p>然后就照搬了0 0</p>

<h1>git的分支是什么</h1>

<p>顾名思义，分支就是从主线上分离出来进行另外的操作，而又不影响线，主线又可以继续干它的事，是不是有点像线程，最后分支做完事后合并到主线上而分支的任务完成可以删掉了。这样是不是很方便，主线继续做它的事，分支用来解决临时需求，二者互不相干。</p>

<p> git的分支功能特别的强大，它不需要将所有数据进行复制，只要重新创建一个分支的指针指向你需要从哪里开始创建分支的提交对象(commit)，然后进行修改再提交，那么新分支的指针就会指向你最新提交的这个commit对象，而原来分支的指针则指向你原来开发的位置，当你在哪个分支开发，HEAD就指向那个分支的最新提交对象commt。没弄清楚没关系，先有这么一个概念，后面慢慢就会弄清的。</p>

<h1>分支的新建与合并</h1>

<p>我们可以用命令git branch来查看我们的git仓库有几个分支，而我们目前工作处于那个分支，前面有个*号的就为我们目前所处的分支。我们可以通过命令git branch name来创建分支，而这个分支的指针就指向最新的commit对象，也就和HEAD指向同一对象。我们可以通过命令git checkout name来切换到目的分支，我们默认的主分支为master。在分支的创建和切换，其实只是简单的创建指针找指针而已，而根据找到的指针找到所指向的commit对象，然后将工作空间恢复成该commit对象所指的文件快照让我们来工作。当提交一次，指针就重新指向这个最新提交的对象，特别的简单。</p>

<p><img src="http://img2.tuicool.com/UBBV3m.jpg!web" alt="" /></p>

<p><img src="http://img1.tuicool.com/6zEZRr.jpg!web" alt="" /></p>

<p>当我们建立分支teset之前，只有master一个主分支，如图一，我们所有的开发都是在这个分支上，而且HEAD是指向最近一次提交的commit对象c3，c3以前还有两次提交c1和c2，这时我们通过git branch test创建test分支，如图二，这时HEAD还是指向master分支最近一次提交的c3，当git checkout test切换到test分支后，HEAD就指向test分支的最近一次提交c3，这个时候其实在.git里面都是指向同样一份数据c3。</p>

<p><img src="http://img2.tuicool.com/iuAN3y.jpg!web" alt="" /></p>

<p>这个时候，当我们在test分支上进行了几次开发提交了c4和c5两个版本后，那么test和HEAD都指向test分支的最近一次提交c5，如图三，而master此时还没有变化，任然指向的是c3，如果这个时候将test分支合并到master分支，那么git根本不用做什么，只要将master移动，指向c5就可以了，这个过程称之为Fast-forward快进。如果此时test的任务完成，我们就可以通过git branch -d test将它删除掉，继续在主分支master上进行开发。如果是这样的话，那么test分支就白建了。</p>

<p><img src="http://img1.tuicool.com/YFBnqi.jpg!web" alt="" /></p>

<p>那么如果此时master分支上又进行另外的开发，提交了两个版本c6和c7，那么此时的master和HEAD指针都指向的是c7，如图四，可以看出在哪个分支上开发，那么HEAD就指向的是哪个分支上的commit，这个时候合并两个分支的话，就如下。</p>

<p><img src="http://img2.tuicool.com/Vzmemqm.jpg!web" alt="" /></p>

<p>如图五，我们先切换到master分支，然后通过git merge test将test分支合并到master分支，这个时候，git就不是简单的移动指针了，因为两边都有开发，所以git就要对于两个分支的最新提交c5和c7还有两个分支共同的祖先commit对象c3来进行一次简单的三方合并，产生新的文件快照并用新的commit对象c8记录，这个合并的过程不需要太在意，如果产生了冲突，也就是两个分支对同一个文件进行了修改，那么git就会停下合并操作，让你处理好冲突后，再提交(c8)，然后再进行合并。这时master和HEAD都指向c8，但是test是没有移动的，此时还可以在test上继续开发，再合并到master，如果test已经没有利用价值了就可以删掉了。</p>

<h1>本地分支，追踪分支和远程分支</h1>

<p>这里有三个概念，本地分支就是我们可以通过git branch查看到的分支，也就是我们自己git仓库所拥有的分支，我们都可以利用。远程分支是对远程仓库的分支的索引，它其实也是本地分支，只是我们无法移动它，必须要在和中心服务器交互根据服务器更新到本地来的代码移动的，远程分支的作用就是我们上次和中心服务器交互更新得到的最新版本，它也是个指针。追踪分支比较难理解，它也是一个本地分支，只是它对应了一个远程分支，如果我们本地的某个分支对应了一个特定的远程分支，那么它就是追踪分支，比如我们最初的master分支就是一个追踪分支，它对应远程分支origin/master，这里origin是远程仓库名，当我们在master分支里执行更新(fetch，pull)或是推送(push)，在不指定分支的情况下，默认就是从origin/master分支更新来或者提交到origin/mster分支。</p>

<p><img src="http://img2.tuicool.com/MJZb6f.jpg!web" alt="" /></p>

<p><img src="http://img.blog.csdn.net/20140417173323859" alt="" /></p>

<p>从图七和图八很容易看出来，和我们本地创建分支很相似，只是origin/master远程分支只有在连接服务器并更新服务器代码到本地后才会移动，如下图九：</p>

<p><img src="http://img0.tuicool.com/zERfum.jpg!web" alt="" /></p>

<p>更新远程代码到本地有两个命令，fetch和pull，fetch是将远程代码更新到本地，但是不会执行合并操作，需要自己查看，解决冲突什么的，然后自己再执行merge将更新来的代码合并到我们自己制定的分支，但是pull就将这两个操作合成了一步，直接更新服务器代码更新并合并到到本地指定分支，当然遇到冲突也必须要自己解决。所以我们一般都使用fetch来实现更新，虽然麻烦了点，但是不容易出问题。</p>

<p>将本地代码推送到远程仓库，也就是中心服务器，一般我们推送数据都是git push origin master:master，这里指定远程仓库名，本地分支名和远端分支，也就是将我们本地master分支的数据推送到远程仓库origin的master分支。如果本地的master分支是追踪分支，那么在不指定的情况下，它会自己找到远程仓库中对应的分支来推送数据。或者我们直接进行git push origin操作，只指定远程仓库名，那么git会根据我们目前所在分支和它所对应的远程仓库的分支来实现数据推送，前提是我们目前所在分支必须是追踪分支。当然如果是git push origin :master，这里本地分支名是空的，这个操作就是将空分支推送到远程仓库的master分支，结果就是将master分支删除。</p>

<p>既然追踪分支这么好用，那么我们怎么建立追踪分支呢，有两种方式，第一种方式就是不指定该追踪分支的名字，默认和远程仓库的分支名字一样：git checkout &ndash;track 远程仓库名/test，这样我们就建立了一个名为test的追踪分支，第二种方式是重新指定追踪分支的名字：git checkout -b name 远程仓库名/test，这样我们就创建了一个名为name的追踪分支，它对应远程仓库的test分支。</p>

<h1>git分支管理</h1>

<p>git创建分支于合并分支是如此简单快捷，那么在我们的开发过程中可以疯狂的使用分支，而且git的核心玩法之一就是分支，非常提倡使用分支，但是是不是我们可以肆无忌惮的使用分支呢，创建这么多的分支我们要如何来管理呢，分支不在多而在恰到好处，如果分支创建多了，管理起来就麻烦了，所以推荐一种分支的管理策略，git-flow，同时推荐一篇文章来了解这种策略： <a href="http://nvie.com/posts/a-successful-git-branching-model/">http://nvie.com/posts/a-successful-git-branching-model/</a> ，让你的git使用更加顺手。</p>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2016-06-02T20:37:22+08:00" data-updated="true" itemprop="datePublished"></time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/git/'>git</a>


</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2016/06/02/git-remote/" itemprop="url">GIT远程操作</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<blockquote><p>很早以前就接触GIT了，但是一直是很简单的应用，只是把项目网上面挂，并没有用到git的好处。这次想把实习的项目挂到GIT上去，多方应用。</p></blockquote>

<h1>一、 git remote</h1>

<p>为了便于管理，Git要求每个远程主机都必须指定一个主机名。<code>git remote</code>命令就用于管理主机名。</p>

<p>不带选项的时候，<code>git remote</code>命令列出所有远程主机。</p>

<p>使用 <strong>-v</strong> 选项，可以查看远程主机的网址。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="err">$</span> <span class="nx">git</span> <span class="nx">remote</span> <span class="o">-</span><span class="nx">v</span>
</span><span class='line'><span class="nx">origin</span>  <span class="nx">git</span><span class="o">@</span><span class="nx">github</span><span class="o">.</span><span class="nx">com</span><span class="o">:</span><span class="nx">jquery</span><span class="o">/</span><span class="nx">jquery</span><span class="o">.</span><span class="nx">git</span> <span class="p">(</span><span class="nx">fetch</span><span class="p">)</span>
</span><span class='line'><span class="nx">origin</span>  <span class="nx">git</span><span class="o">@</span><span class="nx">github</span><span class="o">.</span><span class="nx">com</span><span class="o">:</span><span class="nx">jquery</span><span class="o">/</span><span class="nx">jquery</span><span class="o">.</span><span class="nx">git</span> <span class="p">(</span><span class="nx">push</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>上面便是，当前有一台远程主机叫做 origin 以及他的网址。</p>

<p>克隆版本库的时候，所使用的远程主机自动被Git命名为origin。如果想用其他的主机名，需要用git clone命令的-o选项指定。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="err">$</span> <span class="nx">git</span> <span class="k">clone</span> <span class="o">-</span><span class="nx">o</span> <span class="nx">jQuery</span> <span class="nx">https</span><span class="o">://</span><span class="nx">github</span><span class="o">.</span><span class="nx">com</span><span class="o">/</span><span class="nx">jquery</span><span class="o">/</span><span class="nx">jquery</span><span class="o">.</span><span class="nx">git</span>
</span><span class='line'><span class="err">$</span> <span class="nx">git</span> <span class="nx">remote</span>
</span><span class='line'><span class="nx">jQuery</span>
</span></code></pre></td></tr></table></div></figure>


<p>上面命令表示，克隆的时候，指定远程主机叫做jQuery。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="nx">git</span> <span class="nx">remote</span> <span class="nx">add</span>
</span></code></pre></td></tr></table></div></figure>


<p>命令用于添加远程主机。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="err">$</span> <span class="nx">git</span> <span class="nx">remote</span> <span class="nx">add</span> <span class="o">&lt;</span><span class="nx">主机名</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">网址</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="nx">git</span> <span class="nx">remote</span> <span class="nx">rm</span>
</span></code></pre></td></tr></table></div></figure>


<p>命令用于删除远程主机。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="nx">git</span> <span class="nx">remote</span> <span class="nb">rename</span>
</span></code></pre></td></tr></table></div></figure>


<p>命令用于远程主机的改名。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="err">$</span> <span class="nx">git</span> <span class="nx">remote</span> <span class="nb">rename</span> <span class="o">&lt;</span><span class="nx">原主机名</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">新主机名</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<h1>二、git fetch</h1>

<p>一旦远程主机的版本库有了更新（Git术语叫做commit），需要将这些更新取回本地，这时就要用到</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="nx">git</span> <span class="nx">fetch</span>
</span></code></pre></td></tr></table></div></figure>


<p>命令。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="err">$</span> <span class="nx">git</span> <span class="nx">fetch</span> <span class="o">&lt;</span><span class="nx">远程主机名</span><span class="o">&gt;</span>
</span><span class='line'><span class="c1">//上面命令将某个远程主机的更新，全部取回本地。</span>
</span><span class='line'><span class="c1">//git fetch命令通常用来查看其他人的进程，因为它取回的代码对你本地的开发代码没有影响。</span>
</span><span class='line'><span class="c1">//默认情况下，git fetch取回所有分支（branch）的更新。如果只想取回特定分支的更新，可以指定分支名。</span>
</span><span class='line'><span class="err">$</span> <span class="nx">git</span> <span class="nx">fetch</span> <span class="o">&lt;</span><span class="nx">远程主机名</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">分支名</span><span class="o">&gt;</span>
</span><span class='line'><span class="err">$</span> <span class="nx">git</span> <span class="nx">fetch</span> <span class="nx">origin</span> <span class="nx">master</span>
</span></code></pre></td></tr></table></div></figure>


<p>所取回的更新，在本地主机上要用"远程主机名/分支名"的形式读取。比如origin主机的master，就要用<code>origin/master</code>读取。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="nx">git</span> <span class="nx">branch</span>
</span></code></pre></td></tr></table></div></figure>


<p>命令的<code>-r</code>选项，可以用来查看远程分支，<code>-a</code>选项查看所有分支。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="err">$</span> <span class="nx">git</span> <span class="nx">branch</span> <span class="o">-</span><span class="nx">r</span>
</span><span class='line'><span class="nx">origin</span><span class="o">/</span><span class="nx">master</span>
</span><span class='line'><span class="err">$</span> <span class="nx">git</span> <span class="nx">branch</span> <span class="o">-</span><span class="nx">a</span>
</span><span class='line'><span class="o">*</span> <span class="nx">master</span>
</span><span class='line'>  <span class="nx">remotes</span><span class="o">/</span><span class="nx">origin</span><span class="o">/</span><span class="nx">master</span>
</span></code></pre></td></tr></table></div></figure>


<p>上面命令表示，本地主机的当前分支是<code>master</code>，远程分支是<code>origin/master</code>。</p>

<p>取回远程主机的更新以后，可以在它的基础上，使用</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="nx">git</span> <span class="nx">checkout</span>
</span></code></pre></td></tr></table></div></figure>


<p>命令创建一个新的分支。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="err">$</span> <span class="nx">git</span> <span class="nx">checkout</span> <span class="o">-</span><span class="nx">b</span> <span class="nx">newBrach</span> <span class="nx">origin</span><span class="o">/</span><span class="nx">master</span>
</span></code></pre></td></tr></table></div></figure>


<p>上面命令表示，在<code>origin/master</code>的基础上，创建一个新分支。</p>

<p>此外，也可以使用</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="nx">git</span> <span class="nx">merge</span>
</span></code></pre></td></tr></table></div></figure>


<p>命令或者</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="nx">git</span> <span class="nx">rebase</span>
</span></code></pre></td></tr></table></div></figure>


<p>命令，在本地分支上合并远程分支。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="err">$</span> <span class="nx">git</span> <span class="nx">merge</span> <span class="nx">origin</span><span class="o">/</span><span class="nx">master</span>
</span><span class='line'> <span class="nx">或者</span>
</span><span class='line'><span class="err">$</span> <span class="nx">git</span> <span class="nx">rebase</span> <span class="nx">origin</span><span class="o">/</span><span class="nx">master</span>
</span></code></pre></td></tr></table></div></figure>


<p>上面命令表示在当前分支上，合并<code>origin/master</code>。</p>

<h1>三、 git pull</h1>

<p>git pull命令的作用是，取回远程主机某个分支的更新，再与本地的指定分支合并。它的完整格式稍稍有点复杂。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="err">$</span> <span class="nx">git</span> <span class="nx">pull</span> <span class="o">&lt;</span><span class="nx">远程主机名</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">远程分支名</span><span class="o">&gt;:&lt;</span><span class="nx">本地分支名</span><span class="o">&gt;</span>
</span><span class='line'><span class="nx">比如，取回origin主机的next分支，与本地的master分支合并，需要写成下面这样。</span>
</span><span class='line'><span class="err">$</span> <span class="nx">git</span> <span class="nx">pull</span> <span class="nx">origin</span> <span class="nb">next</span><span class="o">:</span><span class="nx">master</span>
</span></code></pre></td></tr></table></div></figure>


<p>如果远程分支是与当前分支合并，则冒号后面的部分可以省略。</p>

<p>上面命令表示，取回origin/next分支，再与当前分支合并。实质上，这等同于先做git fetch，再做git merge。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="err">$</span> <span class="nx">git</span> <span class="nx">fetch</span> <span class="nx">origin</span>
</span><span class='line'><span class="err">$</span> <span class="nx">git</span> <span class="nx">merge</span> <span class="nx">origin</span><span class="o">/</span><span class="nb">next</span>
</span></code></pre></td></tr></table></div></figure>


<p>如果远程主机删除了某个分支，默认情况下，git pull 不会在拉取远程分支的时候，删除对应的本地分支。这是为了防止，由于其他人操作了远程主机，导致git pull不知不觉删除了本地分支。</p>

<p>但是，你可以改变这个行为，加上参数 -p 就会在本地删除远程已经删除的分支。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="err">$</span> <span class="nx">git</span> <span class="nx">pull</span> <span class="o">-</span><span class="nx">p</span>
</span><span class='line'><span class="c1"># 等同于下面的命令</span>
</span><span class='line'><span class="err">$</span> <span class="nx">git</span> <span class="nx">fetch</span> <span class="o">--</span><span class="nx">prune</span> <span class="nx">origin</span>
</span><span class='line'><span class="err">$</span> <span class="nx">git</span> <span class="nx">fetch</span> <span class="o">-</span><span class="nx">p</span>
</span></code></pre></td></tr></table></div></figure>


<h1>四、git push</h1>

<p>git push命令用于将本地分支的更新，推送到远程主机。它的格式与git pull命令相仿。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="err">$</span> <span class="nx">git</span> <span class="nx">push</span> <span class="o">&lt;</span><span class="nx">远程主机名</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">本地分支名</span><span class="o">&gt;:&lt;</span><span class="nx">远程分支名</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>注意，分支推送顺序的写法是&lt;来源地>:&lt;目的地>，所以git pull是&lt;远程分支>:&lt;本地分支>，而git push是&lt;本地分支>:&lt;远程分支>。</p>

<p>如果省略远程分支名，则表示将本地分支推送与之存在"追踪关系"的远程分支（通常两者同名），如果该远程分支不存在，则会被新建。</p>

<h1>五、分支</h1>

<p><strong> 创建分支</strong></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="err">$</span> <span class="nx">git</span> <span class="nx">branch</span> <span class="nx">test</span>
</span><span class='line'><span class="nx">切换到分支</span>
</span><span class='line'><span class="err">$</span> <span class="nx">git</span> <span class="nx">checkout</span> <span class="nx">test</span>
</span><span class='line'><span class="nx">删除本地分支</span>
</span><span class='line'><span class="err">$</span> <span class="nx">git</span> <span class="nx">branch</span> <span class="o">-</span><span class="nx">d</span> <span class="nx">xxxxx</span>
</span><span class='line'><span class="nx">创建分支并切换</span>
</span><span class='line'><span class="nv">$git</span> <span class="nx">checkout</span> <span class="o">-</span><span class="nx">b</span> <span class="nx">xxx</span>
</span></code></pre></td></tr></table></div></figure>


<p><strong>分支的合并</strong></p>

<p>假设有两个分支 develop 和 master</p>

<ul>
<li><p>快速合并</p>

<p>  我们把develop分支合并到master分支上，来到master分支后，键入下述命令：</p>

<p>  git merge develop</p></li>
<li><p>普通合并</p>

<p>  &ndash;no-ff参数表示禁用快速合并！</p>

<p>  git merge &ndash;no-ff -m &ldquo;合并的信息(TAG)&rdquo; develop</p></li>
</ul>


<p><strong>解决合并冲突</strong></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="err">$</span> <span class="nx">git</span> <span class="nx">merge</span> <span class="nx">issue3</span>
</span><span class='line'><span class="nx">Auto</span><span class="o">-</span><span class="nx">merging</span> <span class="nx">myfile</span><span class="o">.</span><span class="nx">txt</span>
</span><span class='line'><span class="nx">CONFLICT</span> <span class="p">(</span><span class="nx">content</span><span class="p">)</span><span class="o">:</span> <span class="nx">Merge</span> <span class="nx">conflict</span> <span class="nx">in</span> <span class="nx">myfile</span><span class="o">.</span><span class="nx">txt</span>
</span><span class='line'><span class="nx">Automatic</span> <span class="nx">merge</span> <span class="nx">failed</span><span class="p">;</span> <span class="nx">fix</span> <span class="nx">conflicts</span> <span class="k">and</span> <span class="nx">then</span> <span class="nx">commit</span> <span class="nx">the</span> <span class="nx">result</span>
</span></code></pre></td></tr></table></div></figure>


<p>自动合并失败。由于在同一行进行了修改，所以产生了冲突。这时myfile.txt的内容如下：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="nx">连猴子都懂的Git命令</span>
</span><span class='line'><span class="nx">add</span> <span class="nx">把变更录入到索引中</span>
</span><span class='line'><span class="o">&lt;&lt;&lt;&lt;&lt;&lt;&lt;</span> <span class="nx">HEAD</span>
</span><span class='line'><span class="nx">commit</span> <span class="nx">记录索引的状态</span>
</span><span class='line'><span class="o">=======</span>
</span><span class='line'><span class="nx">pull</span> <span class="nx">取得远端数据库的内容</span>
</span><span class='line'><span class="o">&gt;&gt;&gt;&gt;&gt;&gt;&gt;</span> <span class="nx">issue3</span>
</span></code></pre></td></tr></table></div></figure>


<p>在发生冲突的地方，Git生成了内容的差异。请做以下修改</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="nx">连猴子都懂的Git命令</span>
</span><span class='line'><span class="nx">add</span> <span class="nx">把变更录入到索引中</span>
</span><span class='line'><span class="nx">commit</span> <span class="nx">记录索引的状态</span>
</span><span class='line'><span class="nx">pull</span> <span class="nx">取得远端数据库的内容</span>   
</span></code></pre></td></tr></table></div></figure>


<p>修改冲突的部分，重新提交</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="err">$</span> <span class="nx">git</span> <span class="nx">add</span> <span class="nx">myfile</span><span class="o">.</span><span class="nx">txt</span>
</span><span class='line'><span class="err">$</span> <span class="nx">git</span> <span class="nx">commit</span> <span class="o">-</span><span class="nx">m</span> <span class="s2">&quot;合并issue3分支&quot;</span>
</span><span class='line'><span class="c1"># On branch master</span>
</span><span class='line'><span class="nx">nothing</span> <span class="nx">to</span> <span class="nx">commit</span> <span class="p">(</span><span class="nx">working</span> <span class="nx">directory</span> <span class="nx">clean</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2016-06-02T11:14:38+08:00" data-updated="true" itemprop="datePublished"></time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/mysql/'>mysql</a>


</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2016/06/02/mysql-better-select/" itemprop="url">MySQL高级查询</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<blockquote><p>前段时间了解了点数据库优化的内容，但是发现自己对很多数据库的高级查询还不是很数据。</p></blockquote>

<p>下面就整理下最近看的一些高级查询：</p>

<table>
<thead>
<tr>
<th> emp_id </th>
<th style="text-align:center;"> emp_name </th>
<th style="text-align:center;"> emp_age </th>
<th style="text-align:center;"> emp_sal </th>
<th style="text-align:center;"> emp_bir </th>
<th style="text-align:left;"> emp_sex </th>
</tr>
</thead>
<tbody>
<tr>
<td> 100001 </td>
<td style="text-align:center;"> 红枫 </td>
<td style="text-align:center;"> 29 </td>
<td style="text-align:center;"> 9000 </td>
<td style="text-align:center;"> 1977-01-01 </td>
<td style="text-align:left;"> male </td>
</tr>
<tr>
<td> 100002 </td>
<td style="text-align:center;"> 丽鹃 </td>
<td style="text-align:center;"> 27 </td>
<td style="text-align:center;"> 8000 </td>
<td style="text-align:center;"> 1979-12-31 </td>
<td style="text-align:left;"> fmale </td>
</tr>
<tr>
<td> 100005 </td>
<td style="text-align:center;"> 啸天 </td>
<td style="text-align:center;"> 27 </td>
<td style="text-align:center;"> 4000 </td>
<td style="text-align:center;"> 1979-07-10 </td>
<td style="text-align:left;"> male </td>
</tr>
</tbody>
</table>


<p><strong>查询结果的字段联合和重新命名</strong></p>

<ul>
<li><code>select concat(emp_id," ",emp_name) from emp;</code></li>
</ul>


<p>查询结果：</p>

<table>
<thead>
<tr>
<th> concat(emp_id,&ldquo; &rdquo;,emp_name) </th>
</tr>
</thead>
<tbody>
<tr>
<td> 100005 啸天 </td>
</tr>
<tr>
<td> 100001 红枫 </td>
</tr>
<tr>
<td> 100002 丽鹃 </td>
</tr>
</tbody>
</table>


<p>用AS关键字重新给输出结果命名标题</p>

<ul>
<li><code>select concat(emp_id," ",emp_name) as info from emp;</code></li>
</ul>


<p>查询结果：</p>

<table>
<thead>
<tr>
<th> info </th>
</tr>
</thead>
<tbody>
<tr>
<td> 100005 啸天 </td>
</tr>
<tr>
<td> 100001 红枫 </td>
</tr>
<tr>
<td> 100002 丽鹃 </td>
</tr>
</tbody>
</table>


<hr />

<p><strong>GROUP BY</strong></p>

<blockquote><p>group by语法可以根据给定数据列的每个成员对查询结果进行分组统计，最终得到一个分组汇总表。</p>

<p>SELECT子句中的列名必须为分组列或列函数。列函数对于GROUP BY子句定义的每个组各返回一个结果。</p></blockquote>

<ul>
<li><code>select emp_sex,count(*) from emp group by emp_sex;</code></li>
</ul>


<p>查询结果如下：</p>

<table>
<thead>
<tr>
<th> emp_sex </th>
<th style="text-align:left;"> count(*) </th>
</tr>
</thead>
<tbody>
<tr>
<td> fmale </td>
<td style="text-align:left;"> 1 </td>
</tr>
<tr>
<td> male </td>
<td style="text-align:left;"> 2 </td>
</tr>
</tbody>
</table>


<ol>
<li>满足“SELECT子句中的列名必须为分组列或列函数”，因为SELECT有GROUP BY emp_sex中包含的列emp_sex。</li>
<li>“列函数对于GROUP BY子句定义的每个组各返回一个结果”，根据性别分组，对每个性别返回一个结果，就是每个性别人人数。</li>
</ol>


<p><strong>从多个数据表中检索信息</strong></p>

<ul>
<li><code>select emp.emp_name,dept.dept_name from emp,dept
-&gt; where emp.emp_id=dept.dept_id;</code></li>
</ul>


<p><strong>UNIN 用法</strong></p>

<p>union:联合的意思，即把两次或多次查询结果合并起来。</p>

<ul>
<li>要求：两次查询的列数必须一致</li>
<li>推荐：列的类型可以不一样，但推荐查询的每一列，相对应的类型一样</li>
<li>可以来自多张表的数据：多次sql语句取出的列名可以不一致，此时以第一个sql语句的列名为准。</li>
</ul>


<p> 如果不同的语句中取出的行，有完全相同(这里表示的是每个列的值都相同)，那么<code>union</code>会将相同的行合并，最终只保留一行。也可以这样理解，<code>union</code>会去掉重复的行。</p>

<p>如果不想去掉重复的行，可以使用<code>union all``。
 如果子句中有</code>order by,limit```，需用括号()包起来。推荐放到所有子句之后，即对最终合并的结果来排序或筛选。</p>

<p>如：(select * from a order by id) union (select * from b order id);</p>

<p>在子句中，order by 需要配合limit使用才有意义。如果不配合limit使用，会被语法分析器优化分析时去除。</p>

<p>注意一点表项的结构必须相同，比如两个表的<code>id int(10)</code>   如果其中一个换成<code>id int(9)</code> 也不行，查询将会报错。但可以有不同的名称（不推荐），查询结果列将以SQL收到的第一份列名为准输出</p>

<pre class="prettyprint linenums">
$hotnews=mysql_query("SELECT id,title,pageview,tablenm FROM News   
UNION  
SELECT id,title,pageview,tablenm FROM Informs  
UNION  
SELECT id,title,pageview,tablenm FROM Article  
UNION  
SELECT id,title,pageview,tablenm FROM IntroORDER BY pageview DESC limit 15",$conn);//获取在四个表中按浏览数高低排序的前15个文章
</pre>


<hr />

<h1>Join</h1>

<blockquote><p>join 用于多表中字段之间的联系，语法如下：</p></blockquote>

<p>from table1 INNER|LEFT|RIGHT JOIN table2 ON conditiona</p>

<p>table1:左表；table2:右表。</p>

<p>join按照功能大致分为如下三类：</p>

<p>inner join（内连接,或等值连接）：取得两个表中存在连接匹配关系的记录。</p>

<p>LEFT JOIN（左连接）：取得左表（table1）完全记录，即是右表（table2）并无对应匹配记录。</p>

<p>RIGHT JOIN（右连接）：与 LEFT JOIN 相反，取得右表（table2）完全记录，即是左表（table1）并无匹配对应记录。</p>

<p>注意：mysql不支持Full join,不过可以通过UNION 关键字来合并 LEFT JOIN 与 RIGHT JOIN来模拟FULL join.</p>

<p>接下来给出一个列子用于解释下面几种分类。如下两个表(A,B)</p>

<p>mysql> select A.id,A.name,B.name from A,B where A.id=B.id;</p>

<table>
<thead>
<tr>
<th> id </th>
<th style="text-align:center;"> name       </th>
<th style="text-align:left;"> name             </th>
</tr>
</thead>
<tbody>
<tr>
<td>  1 </td>
<td style="text-align:center;"> Pirate       </td>
<td style="text-align:left;"> Rutabaga      </td>
</tr>
<tr>
<td>  2 </td>
<td style="text-align:center;"> Monkey    </td>
<td style="text-align:left;"> Pirate            </td>
</tr>
<tr>
<td>  3 </td>
<td style="text-align:center;"> Ninja         </td>
<td style="text-align:left;"> Darth Vader </td>
</tr>
<tr>
<td>  4 </td>
<td style="text-align:center;"> Spaghetti  </td>
<td style="text-align:left;"> Ninja             </td>
</tr>
</tbody>
</table>


<p>4 rows in set (0.00 sec)</p>

<p><strong>Inner join</strong></p>

<blockquote><p>内连接，也叫等值连接，inner join产生同时符合A和B的一组数据。</p></blockquote>

<p>mysql> select * from A inner join B on A.name = B.name;</p>

<table>
<thead>
<tr>
<th> id </th>
<th style="text-align:center;"> name   </th>
<th style="text-align:center;"> id </th>
<th style="text-align:left;"> name   </th>
</tr>
</thead>
<tbody>
<tr>
<td>  1 </td>
<td style="text-align:center;"> Pirate </td>
<td style="text-align:center;">  2 </td>
<td style="text-align:left;"> Pirate </td>
</tr>
<tr>
<td>  3 </td>
<td style="text-align:center;"> Ninja  </td>
<td style="text-align:center;">  4 </td>
<td style="text-align:left;"> Ninja  </td>
</tr>
</tbody>
</table>


<p><strong>Left join</strong></p>

<p>mysql> select * from A left join B on A.name = B.name;</p>

<p>或者：select * from A left outer join B on A.name = B.name;</p>

<table>
<thead>
<tr>
<th> id </th>
<th style="text-align:center;"> name      </th>
<th style="text-align:center;"> id   </th>
<th style="text-align:left;"> name   </th>
</tr>
</thead>
<tbody>
<tr>
<td>  1 </td>
<td style="text-align:center;"> Pirate    </td>
<td style="text-align:center;">    2 </td>
<td style="text-align:left;"> Pirate </td>
</tr>
<tr>
<td>  2 </td>
<td style="text-align:center;"> Monkey    </td>
<td style="text-align:center;"> NULL </td>
<td style="text-align:left;"> NULL   </td>
</tr>
<tr>
<td>  3 </td>
<td style="text-align:center;"> Ninja     </td>
<td style="text-align:center;">    4 </td>
<td style="text-align:left;"> Ninja  </td>
</tr>
<tr>
<td>  4 </td>
<td style="text-align:center;"> Spaghetti </td>
<td style="text-align:center;"> NULL </td>
<td style="text-align:left;"> NULL   </td>
</tr>
</tbody>
</table>


<p>4 rows in set (0.00 sec)</p>

<p>left join,（或left outer join:在Mysql中两者等价，推荐使用left join.）左连接从左表(A)产生一套完整的记录,与匹配的记录(右表(B)) .如果没有匹配,右侧将包含null。</p>

<p>如果想只从左表(A)中产生一套记录，但不包含右表(B)的记录，可以通过设置where语句来执行，如下：</p>

<p>mysql> select * from A left join B on A.name=B.name where A.id is null or B.id is null;</p>

<table>
<thead>
<tr>
<th> id </th>
<th style="text-align:center;"> name      </th>
<th style="text-align:center;"> id   </th>
<th style="text-align:left;"> name </th>
</tr>
</thead>
<tbody>
<tr>
<td>  2 </td>
<td style="text-align:center;"> Monkey    </td>
<td style="text-align:center;"> NULL </td>
<td style="text-align:left;"> NULL </td>
</tr>
<tr>
<td>  4 </td>
<td style="text-align:center;"> Spaghetti </td>
<td style="text-align:center;"> NULL </td>
<td style="text-align:left;"> NULL </td>
</tr>
</tbody>
</table>


<p>2 rows in set (0.00 sec)</p>

<p>同理，还可以模拟inner join. 如下：</p>

<p>mysql> select * from A left join B on A.name=B.name where A.id is not null and B.id is not null;</p>

<table>
<thead>
<tr>
<th> id </th>
<th style="text-align:center;"> name   </th>
<th style="text-align:center;"> id   </th>
<th style="text-align:left;"> name   </th>
</tr>
</thead>
<tbody>
<tr>
<td>  1 </td>
<td style="text-align:center;"> Pirate </td>
<td style="text-align:center;">    2 </td>
<td style="text-align:left;"> Pirate </td>
</tr>
<tr>
<td>  3 </td>
<td style="text-align:center;"> Ninja  </td>
<td style="text-align:center;">    4 </td>
<td style="text-align:left;"> Ninja  </td>
</tr>
</tbody>
</table>


<p>2 rows in set (0.00 sec)</p>

<p>求差集：</p>

<p>根据上面的例子可以求差集，如下：</p>

<p>SELECT * FROM A LEFT JOIN B ON A.name = B.name
WHERE B.id IS NULL
union</p>

<p>SELECT * FROM A right JOIN B ON A.name = B.name
WHERE A.id IS NULL;</p>

<p> 结果</p>

<table>
<thead>
<tr>
<th> id   </th>
<th style="text-align:center;"> name      </th>
<th style="text-align:center;"> id   </th>
<th style="text-align:left;"> name        </th>
</tr>
</thead>
<tbody>
<tr>
<td>    2 </td>
<td style="text-align:center;"> Monkey    </td>
<td style="text-align:center;"> NULL </td>
<td style="text-align:left;"> NULL        </td>
</tr>
<tr>
<td>    4 </td>
<td style="text-align:center;"> Spaghetti </td>
<td style="text-align:center;"> NULL </td>
<td style="text-align:left;"> NULL        </td>
</tr>
<tr>
<td> NULL </td>
<td style="text-align:center;"> NULL      </td>
<td style="text-align:center;">    1 </td>
<td style="text-align:left;"> Rutabaga    </td>
</tr>
<tr>
<td> NULL </td>
<td style="text-align:center;"> NULL      </td>
<td style="text-align:center;">    3 </td>
<td style="text-align:left;"> Darth Vader </td>
</tr>
</tbody>
</table>


<p><strong>Right join</strong></p>

<p>mysql> select * from A right join B on A.name = B.name;</p>

<table>
<thead>
<tr>
<th> id   </th>
<th style="text-align:center;"> name   </th>
<th style="text-align:center;"> id </th>
<th style="text-align:left;"> name        </th>
</tr>
</thead>
<tbody>
<tr>
<td> NULL </td>
<td style="text-align:center;"> NULL   </td>
<td style="text-align:center;">  1 </td>
<td style="text-align:left;"> Rutabaga    </td>
</tr>
<tr>
<td>    1 </td>
<td style="text-align:center;"> Pirate </td>
<td style="text-align:center;">  2 </td>
<td style="text-align:left;"> Pirate      </td>
</tr>
<tr>
<td> NULL </td>
<td style="text-align:center;"> NULL   </td>
<td style="text-align:center;">  3 </td>
<td style="text-align:left;"> Darth Vader </td>
</tr>
<tr>
<td>    3 </td>
<td style="text-align:center;"> Ninja  </td>
<td style="text-align:center;">  4 </td>
<td style="text-align:left;"> Ninja       </td>
</tr>
</tbody>
</table>


<p>4 rows in set (0.00 sec)</p>

<p><strong>USING(column_list)子句</strong>
用于为一系列的列进行命名，这些列必须同时在两个表中存在
SELECT java.<em>,mysql.</em> FROM java LEFT JOIN mysql USING (name);</p>

<p>关于join的一个小测试：</p>

<p>有这样两个表：</p>

<p>message:</p>

<table>
<thead>
<tr>
<th>id </th>
<th style="text-align:center;">   username </th>
<th>message </th>
</tr>
</thead>
<tbody>
<tr>
<td>1  </td>
<td style="text-align:center;">ewan   </td>
<td>123</td>
</tr>
<tr>
<td>2  </td>
<td style="text-align:center;">wean2</td>
<td> 123</td>
</tr>
<tr>
<td>3  </td>
<td style="text-align:center;">1  </td>
<td>??</td>
</tr>
<tr>
<td>4  </td>
<td style="text-align:center;">1  </td>
<td>2343</td>
</tr>
<tr>
<td>5  </td>
<td style="text-align:center;">1  </td>
<td>sdfjkl</td>
</tr>
</tbody>
</table>


<p>user:</p>

<table>
<thead>
<tr>
<th>id </th>
<th style="text-align:center;">   username </th>
<th>password </th>
</tr>
</thead>
<tbody>
<tr>
<td>1  </td>
<td style="text-align:center;">1</td>
<td>22</td>
</tr>
<tr>
<td>2  </td>
<td style="text-align:center;">2</td>
<td> 111</td>
</tr>
<tr>
<td>3  </td>
<td style="text-align:center;">Ewan2  </td>
<td>22</td>
</tr>
<tr>
<td>4  </td>
<td style="text-align:center;">Ewan5  </td>
<td>22</td>
</tr>
</tbody>
</table>


<p>测试如下:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="o">&lt;?</span><span class="nx">php</span>
</span><span class='line'><span class="nv">$dsn</span><span class="o">=</span><span class="s2">&quot;mysql:host=127.0.0.1;dbname=test&quot;</span><span class="p">;</span>
</span><span class='line'><span class="nv">$username</span><span class="o">=</span><span class="s2">&quot;root&quot;</span><span class="p">;</span>
</span><span class='line'><span class="nv">$password</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">;</span>
</span><span class='line'><span class="k">try</span><span class="p">{</span>
</span><span class='line'>  <span class="nv">$pdo</span><span class="o">=</span> <span class="k">new</span> <span class="nx">PDO</span><span class="p">(</span><span class="nv">$dsn</span><span class="p">,</span><span class="nv">$username</span><span class="p">,</span><span class="nv">$password</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span><span class="k">catch</span><span class="p">(</span><span class="nx">PDOException</span> <span class="nv">$e</span><span class="p">){</span>
</span><span class='line'>  <span class="k">echo</span> <span class="nv">$e</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">();</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="nv">$sql</span><span class="o">=</span><span class="s2">&quot;SELECT * FROM message LEFT JOIN user ON message.id=user.id&quot;</span><span class="p">;</span>
</span><span class='line'><span class="nv">$back</span><span class="o">=</span><span class="nv">$pdo</span><span class="o">-&gt;</span><span class="na">query</span><span class="p">(</span><span class="nv">$sql</span><span class="p">);</span>
</span><span class='line'><span class="nv">$back</span><span class="o">=</span><span class="nv">$back</span><span class="o">-&gt;</span><span class="na">fetchAll</span><span class="p">(</span><span class="nx">PDO</span><span class="o">::</span><span class="na">FETCH_ASSOC</span><span class="p">);</span>
</span><span class='line'><span class="nb">print_r</span><span class="p">(</span><span class="nv">$back</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>输出结果：</p>

<pre><code>Array
(
[0] =&gt; Array
    (
        [id] =&gt; 1
        [username] =&gt; 1
        [message] =&gt; 123
        [password] =&gt; 22
    )

[1] =&gt; Array
    (
        [id] =&gt; 2
        [username] =&gt; 2
        [message] =&gt; 123
        [password] =&gt; 111
    )

[2] =&gt; Array
    (
        [id] =&gt; 3
        [username] =&gt; Ewan2
        [message] =&gt; ??
        [password] =&gt; 22
    )

[3] =&gt; Array
    (
        [id] =&gt; 
        [username] =&gt; 
        [message] =&gt; 2343
        [password] =&gt; 
    )

[4] =&gt; Array
    (
        [id] =&gt; 
        [username] =&gt; 
        [message] =&gt; sdfjkl
        [password] =&gt; 
    )

)
</code></pre>

<p><strong>可以看到在两个表都有username的情况下只取了前面的那个username而舍弃了后一个。</strong></p>

<hr />

<p><strong>HAVING</strong></p>

<blockquote><p>HAVING 子句对 GROUP BY 子句设置条件的方式与 WHERE 和 SELECT 的交互方式类似。WHERE 搜索条件在进行分组操作之前应用；而 HAVING 搜索条件在进行分组操作之后应用。HAVING 语法与 WHERE 语法类似，但 HAVING 可以包含聚合函数。HAVING 子句可以引用选择列表中显示的任意项。</p></blockquote>

<p>显示每个地区的总人口数和总面积．仅显示那些面积超过1000000的地区。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="nx">SELECT</span> <span class="nx">region</span><span class="p">,</span> <span class="nx">SUM</span><span class="p">(</span><span class="nx">population</span><span class="p">),</span> <span class="nx">SUM</span><span class="p">(</span><span class="nx">area</span><span class="p">)</span>
</span><span class='line'><span class="nx">FROM</span> <span class="nx">bbc</span>
</span><span class='line'><span class="nx">GROUP</span> <span class="nx">BY</span> <span class="nx">region</span>
</span><span class='line'><span class="nx">HAVING</span> <span class="nx">SUM</span><span class="p">(</span><span class="nx">area</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">1000000</span>
</span></code></pre></td></tr></table></div></figure>


<p>在这里，我们不能用where来筛选超过1000000的地区，因为表中不存在这样一条记录。</p>

<p>我们在写sql语句的时候,经常会使用where语句,很少会用到having,其实在mysql中having子句也是设定条件的语句与where有相似之处但也有区别。having子句在查询过程中慢于聚合语句(sum,min,max,avg,count).而where子句在查询过程中则快于聚合语句(sum,min,max,avg,count)。</p>

<p>简单说来：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="nx">where子句：</span>
</span><span class='line'><span class="nx">select</span> <span class="nx">sum</span><span class="p">(</span><span class="nx">num</span><span class="p">)</span> <span class="k">as</span> <span class="nx">rmb</span> <span class="nx">from</span> <span class="nx">order</span> <span class="nx">where</span> <span class="nx">id</span><span class="o">&gt;</span><span class="mi">10</span>
</span><span class='line'><span class="c1">//先查询出id大于10的记录才能进行聚合语句  </span>
</span><span class='line'>
</span><span class='line'><span class="nx">having子句</span><span class="o">:</span>
</span><span class='line'><span class="nx">select</span> <span class="nx">reportsto</span> <span class="k">as</span> <span class="nx">manager</span><span class="p">,</span> <span class="nb">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="k">as</span> <span class="nx">reports</span> <span class="nx">from</span> <span class="nx">employees</span>
</span><span class='line'><span class="nx">group</span> <span class="nx">by</span> <span class="nx">reportsto</span> <span class="nx">having</span> <span class="nb">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">4</span>
</span></code></pre></td></tr></table></div></figure>


<p>having条件表达示为聚合语句。肯定的说having子句查询过程慢于聚合语句。<br/>
再换句说话说把上面的having换成where则会出错。统计分组数据时用到聚合语句。</p>

<p>对分组数据再次判断时要用having。如果不用这些关系就不存在使用having。直接使用where就行了。<br/>
having就是来弥补where在分组数据判断时的不足。因为where要快于聚合语句。</p>

<p><strong>这几个关键字执行的顺序</strong></p>

<p>关键字是按照如下顺序进行执行的：</p>

<ul>
<li>Where</li>
<li>Group By</li>
<li>Having</li>
<li>Order by</li>
</ul>


<p>首先where将最原始记录中不满足条件的记录删除(所以应该在where语句中尽量的将不符合条件的记录筛选掉，这样可以减少分组的次数)</p>

<p>然后通过Group By关键字后面指定的分组条件将筛选得到的视图进行分组
接着系统根据Having关键字后面指定的筛选条件，将分组视图后不满足条件的记录筛选掉</p>

<p>最后按照Order By语句对视图进行排序，这样最终的结果就产生了。</p>

<p>注意：</p>

<p>凡是在group by后面出现的字段，必须同时在select后面出现；</p>

<p>凡是在select后面出现的、同时未在聚合函数中出现的字段，必须同时出现在group by后面.</p>

<p>having 子句被限制子已经在SELECT语句中定义的列和聚合表达式上。</p>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2016-06-01T23:45:06+08:00" data-updated="true" itemprop="datePublished"></time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/javascript/'>javascript</a>


</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2016/06/01/js-dom-ying-yong/" itemprop="url">JS-DOM-操作</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<blockquote><p>DOM操作HTML用起来感觉总有点没理解透。希望借这个机会好好深入一下</p></blockquote>


		
		<a href="/blog/2016/06/01/js-dom-ying-yong/" class="more-link">阅读全文&rarr;</a>
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2016-05-31T13:28:27+08:00" data-updated="true" itemprop="datePublished"></time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/javascript/'>javascript</a>


</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2016/05/31/js-jin-jie/" itemprop="url">JS进阶之DOM</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<blockquote><p>这段时间开始实习，拿到手一个项目。都没什么时间写博客了，在写这个项目的实际过程中，发现对JS还是很陌生了。所以决定在空余时间提升下JS。在过了一遍基本的之后看到DOM的时候发现这个东西不太好懂，就觉得写个博文。</p></blockquote>


		
		<a href="/blog/2016/05/31/js-jin-jie/" class="more-link">阅读全文&rarr;</a>
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2016-05-24T10:38:59+08:00" data-updated="true" itemprop="datePublished"></time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/php/'>php</a>


</div>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2016/05/24/php-jia-mi/" itemprop="url">Php加密</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<h1>PHP中几种常见的加密方式</h1>

<ul>
<li>Md5()加密算法</li>
<li>Crypt()加密算法</li>
<li>Sha1()加密算法</li>
<li>URL编码加密</li>
<li>Base64编码加密</li>
</ul>


<hr />


		
		<a href="/blog/2016/05/24/php-jia-mi/" class="more-link">阅读全文&rarr;</a>
	</div>

</article>

</div>
<nav id="pagenavi">
    
    
        <a href="/posts/2" class="next">Next</a>
		
    
    <div class="center"><a href="/blog/archives">Blog Archives</a></div>
</nav>
</div>
			</div>
			<footer id="footer" class="inner">Copyright &copy; 2016

    Ewan Reton


Design credit: <a href="http://shashankmehta.in/archive/2012/greyshade.html">Shashank Mehta</a></footer>
		</div>
	</div>
	






<!--
-->


</body>
</html>
