
<!DOCTYPE HTML>

<html>

<head>
	<meta charset="utf-8">
	<title>腾讯云服务器Centos6.5 LNMP环境搭建 - Ewan Reton</title>
	<meta name="author" content="Ewan Reton">

	
	<meta name="description" content="腾讯云服务器Centos6.5 LNMP环境搭建 今天开始搭建前几天买的腾讯云服务器的LNMP环境 一、通过putty.exe连接到云服务器 下载并打开这个软件后只需要输入云服务器的外网IP其他默认即可
然后用你的用户名和密码登录云服务器。 二、CentOS环境下通过YUM安装软件 1. &hellip;">
	

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

	<link href="/atom.xml" rel="alternate" title="Ewan Reton" type="application/atom+xml">
	
	<link rel="canonical" href="http://ewanreton.github.io/blog/2016/04/28/qqyuncontos-huan-jing-da-jian/">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<link href="/stylesheets/font-awesome.min.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<link href='http://fonts.googleapis.com/css?family=Nunito:400,300,700' rel='stylesheet' type='text/css'>	<link type="text/css" rel="stylesheet" href='/prettify/prettify.css' >
	<script src="//libs.baidu.com/jquery/1.9.1/jquery.min.js"></script>
	<script type="text/javascript" src="/prettify/prettify.js"></script>
	<!--<script src="https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js"></script>-->
	<script>
  function addBlankTargetForLinks () {
    $('a[href^="http"]').each(function(){
      $(this).attr('target', '_blank');
    });
  }
  $(document).bind('DOMNodeInserted', function(event) {
    addBlankTargetForLinks();
  });
</script>
  

</head>


<body onload="prettyPrint()">
	<div class="container">
		<div class="left-col">
			<div class="intrude-less">
			<header id="header" class="inner"><div class="profilepic">
	
	<script src="/javascripts/md5.js"></script>
	<script type="text/javascript" src="/prettify/prettify.js"></script>
	<script type="text/javascript">
		$(function(){
			$('.profilepic').append("<img src='http://www.gravatar.com/avatar/" + MD5("liukedi001@gmail.com") + "?s=160' alt='Profile Picture' style='width: 160px;' />");
			
		});
	</script>
	
</div>

<div>
	<h1><a href="/">Ewan Reton</a></h1>
	
		<h2 style="color:#666">Never be touched by yourself</h2>
	
</div>
<nav id="main-nav"><ul class="main">
    <li><a href="/">Blog</a></li>
    <li><a href="/blog/archives">Archives</a></li>
</ul>
</nav>
<nav id="main-nav"><section>
  <ul id="categories">
    <li class='category'><a href='/blog/categories/git/'>git (1)</a></li>
<li class='category'><a href='/blog/categories/javascript/'>javascript (2)</a></li>
<li class='category'><a href='/blog/categories/linux/'>linux (5)</a></li>
<li class='category'><a href='/blog/categories/mysql/'>mysql (4)</a></li>
<li class='category'><a href='/blog/categories/nginx/'>nginx (5)</a></li>
<li class='category'><a href='/blog/categories/octopress/'>octopress (3)</a></li>
<li class='category'><a href='/blog/categories/php/'>php (15)</a></li>
<li class='category'><a href='/blog/categories/weixin/'>weixin (1)</a></li>

  </ul>
</section></nav> 
<nav id="sub-nav">
	<div class="social">
		
			<a class="email" href="mailto:liukedi001@gmail.com" title="Email">Email</a>
		
		
		
			<a class="google" href="https://plus.google.com/116687730759120454062" rel="author" title="Google+">Google+</a>
		
		
		
			<a class="github" href="https://github.com/EwanReton" title="GitHub">GitHub</a>
		
		
		
		
		
		
		
		
		
		
    	
    	
			<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
	</div>
</nav>
</header>				
			</div>
		</div>	
		<div class="mid-col">
			
				
			
			<div class="mid-col-container">
				<div id="content" class="inner"><article class="post" itemscope itemtype="http://schema.org/BlogPosting">
	<h1 class="title" itemprop="name">腾讯云服务器Centos6.5 LNMP环境搭建</h1>
	<div class="entry-content" itemprop="articleBody"><blockquote><p>今天开始搭建前几天买的腾讯云服务器的LNMP环境</p></blockquote>

<!--more-->


<h1>一、通过putty.exe连接到云服务器</h1>

<pre><code>下载并打开这个软件后只需要输入云服务器的外网IP其他默认即可
然后用你的用户名和密码登录云服务器。
</code></pre>

<h1>二、CentOS环境下通过YUM安装软件</h1>

<pre><code>1. 切换到root权限
2. yum install [nginx][php][php-fpm][mariadb][mariadb-server][mysql][mysql-server] 或者yum -y mysql mysql-server nginx php php-fpm
3. 系统会自动搜索相关的软件包和依赖关系，并且在界面中提示用户确认搜索到的软件包是否合适，如下图所示：
</code></pre>

<p><img src="http://qzonestyle.gtimg.cn/qzone/vas/opensns/res/img/Yum_2.png" alt="sd" /></p>

<pre><code>4. 输入“Y”确认后，开始安装软件，安装完成后会提示“Complete”.
5. 软件安装完成后，可通过命令 rpm -ql 查看软件包具体的安装目录。以查看nginx的安装目录为例：
#rpm -ql nginx
6.可通过命令 rpm -q 查看软件包的版本信息。以查看nginx的版本为例：
#rpm -q nginx
</code></pre>

<p><img src="http://qzonestyle.gtimg.cn/qzone/vas/opensns/res/img/YaST_6.png" alt="sd" />
<img src="http://qzonestyle.gtimg.cn/qzone/vas/opensns/res/img/YaST_5.png" alt="sd" /></p>

<h1>三、CentOS环境下通过YUM安装软件</h1>

<h2>1. 配置nginx</h2>

<pre><code>1. 启动nginx服务。
    命令如下：
    [root@VM_185_51 /]# service nginx restart

2. 测试nginx服务是否正常运行。
如果最后显示：`index.html' saved ，说明nginx服务正常。
[root@VM_185_51 /]# wget http://127.0.0.1
--2013-02-20 17:07:26-- http://127.0.0.1/
Connecting to 127.0.0.1:80... connected.
HTTP request sent, awaiting response... 200 OK
Length: 151 [text/html]
Saving to: `index.html'
100%[==========================================================================================&gt;] 151 --.-K/s in 0s 
2013-02-20 17:07:26 (37.9 MB/s) - `index.html' saved [151/151]

3. 在浏览器中，通过CentOS云服务器公网IP查看nginx服务是否正常运行。
如果显示如下，说明nginx安装配置成功。
</code></pre>

<p><img src="http://qzonestyle.gtimg.cn/qzone/vas/opensns/res/img/Q_lnmp_1.png" alt="sd" /></p>

<h2>2. 配置PHP</h2>

<pre><code>1. 启动php-fpm。
    [root@VM_185_51 /]# service php-fpm start

2. 修改php-fpm和nginx的配置，实现nginx和php联动。
    （1）查看php-fpm默认配置。
    [root@VM_185_51 /]# cat /etc/php-fpm.d/www.conf |grep -i 'listen ='
    listen = 127.0.0.1:9000
    （2）php-fpm的默认配置的监听端口为9000，现在只用修改配置，将php解析的请求转发到127.0.0.0:9000处理即可。
    修改nginx配置，修改命令如下：
[root@VM_185_51 /]# vim /etc/nginx/conf.d/default.conf
修改完成后实际配置如下，红色文字为修改过的部分：
server {
 listen       80;
 root   /usr/share/nginx/html;
 server_name  localhost;
 #charset koi8-r;
 #access_log  /var/log/nginx/log/host.access.log  main;
 location / {
     index  index.html index.htm;
  }
 #error_page  404              /404.html;
 # redirect server error pages to the static page /50x.html
 #
 error_page   500 502 503 504  /50x.html;
  location = /50x.html {
     root   /usr/share/nginx/html;
  }
# proxy the PHP scripts to Apache listening on 127.0.0.1:80
#
#location ~ \.php$ {
#    proxy_pass   http://127.0.0.1;
#}
# pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000
#
  location ~ \.php$ {
  fastcgi_pass   127.0.0.1:9000;
  fastcgi_index   index.php;
  fastcgi_param  SCRIPT_FILENAME  $document_root$fastcgi_script_name;
  include        fastcgi_params;
 }
# deny access to .htaccess files, if Apache's document root
# concurs with nginx's one
#
#location ~ /\.ht {
#    deny  all;
#}
}
修改完成后，按“Esc”键，输入“:wq”，保存文件并返回。
通过下面的命令，查看配置是否正确：
[root@VM_185_51 /]# cat /etc/nginx/conf.d/default.conf
3. 配置生效
    重启nginx，使配置生效。
    命令如下：
    [root@VM_185_51 /]# service nginx restart
    Stopping nginx: [ OK ]
    Starting nginx: [ OK ]
4. 环境配置验证
    1. 在web目录下创建index.php。
    命令如下：
    [root@VM_185_51 /]# vim /usr/share/nginx/html/index.php
    index.php文件的内容如下：
    &lt;?php
    echo "&lt;title&gt;Test Page&lt;/title&gt;";
    echo "hello world";
    ?&gt;
2. 在浏览器中，通过CentOS云服务器公网IP查看环境配置是否成功。
如果页面可以显示“hello world”，说明配置成功。
</code></pre>

<p><img src="http://qzonestyle.gtimg.cn/qzone/vas/opensns/res/img/Q_lnmp_2.png" alt="sd" /></p>

<h1>四、Windows机器通过WinSCP上传文件</h1>

<blockquote><p>WinSCP是一个Windows环境下使用SSH的开源图形化SFTP客户端，同时支持SCP协议。它的主要功能就是在本地与远程计算机间安全的复制文件。与使用FTP上传代码相比，通过WinSCP可以直接使用服务器账户密码访问服务器，无需在服务器端做任何配置。下载地址：<a href="http://winscp.net/eng/docs/lang:chs">官方下载</a> <a href="http://dl.pconline.com.cn/html_2/1/86/id=7244&amp;pn=0.html">太平洋下载中心下载</a></p></blockquote>

<p>安装完成后启动WinSCP，界面如下。按图示填写信息并登录。
<img src="http://mccdn.qcloud.com/img56b024e2768ad.png" alt="sd" /></p>

<blockquote><p>字段填写说明：</p></blockquote>

<ul>
<li>协议：SFTP或者SCP均可</li>
<li>主机名：云服务器的公网IP（登录云服务器控制台可查看云服务器的公网IP）</li>
<li>用户名：云服务器的系统用户名（SUSE/CentOS/Debian：root，Windows：Administrator，Ubuntu：ubuntu）</li>
<li>密码：云服务器的用户名对应的密码</li>
<li>端口：默认22</li>
</ul>


<p> 信息填写完毕之后点击登录，界面如下:</p>

<p><img src="http://mccdn.qcloud.com/img56b0272d4ed3a.png" alt="sd" /></p>

<p>登录成功之后，鼠标选中本地文件，拖拽到右侧的远程站点，即可将文件上传到Linux云服务器
<img src="http://mccdn.qcloud.com/img56b027728e1ec.png" alt="sd" /></p>
</div>

</article>

	<div class="share">
	<div class="addthis_toolbox addthis_default_style ">
	
	
	
	 
  <!-- JiaThis Button BEGIN -->
<div class="jiathis_style_32x32">
	<a class="jiathis_button_qzone"></a>
	<a class="jiathis_button_tsina"></a>
	<a class="jiathis_button_tqq"></a>
	<a class="jiathis_button_weixin"></a>
	<a class="jiathis_button_renren"></a>
	<a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a>
	<a class="jiathis_counter_style"></a>
</div>
<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js" charset="utf-8"></script>
<!-- JiaThis Button END -->
  
</div>



  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><!-- 多说评论框 start -->
	<div class="ds-thread" data-thread-key="/blog/2016/04/28/qqyuncontos-huan-jing-da-jian" data-title="腾讯云服务器Centos6.5 LNMP环境搭建" data-url="http://ewanreton.github.io/blog/2016/04/28/qqyuncontos-huan-jing-da-jian/"></div>
<!-- 多说评论框 end -->
<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"ewanreton"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
<!-- 多说公共JS代码 end --></div>
  </section>
</div>
			</div>
			<footer id="footer" class="inner">Copyright &copy; 2016

    Ewan Reton


Design credit: <a href="http://shashankmehta.in/archive/2012/greyshade.html">Shashank Mehta</a></footer>
		</div>
	</div>
	






<!--
-->


</body>
</html>
